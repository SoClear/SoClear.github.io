# 1.2 计算机系统层次结构

## 1.2.1 计算机系统的组成

硬件系统和软件系统共同组成了一个完整的计算机系统。

## 1.2.2 计算机硬件

硬件系统由以下部分组成： 运算器、控制器、存储器、输入设备、输出设备。

### 存储器

MAR: Memory Address Register ，存储器地址寄存器。  
MDR: Memory Data Register ，存储器数据寄存器。

### 运算器

运算器的核心是算术逻辑单元（ Arithmetic and Logic Unit ， ALU ）。运算器包含若干通用寄存器，用于暂存操作数和中间结果，如累加器 (ACC) 、乘商寄存器 (MQ) 、操作数寄存器 (X) 、变址寄存器 (IX) 、基址寄存器 (BR) 等，其中前三个寄存器是必须具备的。

运算器内还有程序状态寄存器 (PSW) ，也称标志寄存器，用于存放 ALU 运算得到的一些标志信息或处理机的状态信息，如结果是否溢出、有无产生进位或借位、结果是否为负等。

ALU: Arithmetic and Logic Unit，算术逻辑单元  
ACC: Accumulator，累加器  
MQ: Multiplier Quotient，乘商寄存器  
X: Operand Register，操作数寄存器  
IX: Index Register，变址寄存器  
BR: Base Register，基址寄存器  
PSW: Program Status Word，程序状态字

### 控制器

PC: Program Counter，程序计数器  
IR: Instruction Register，指令寄存器  
CU: Control Unit，控制单元

## 总结

- 主存
  - 存储体，概念：存储元、存储单元、存储字、存储字长、地址
  - MAR: Memory Address Register，存储器地址寄存器，用于指明要读/写哪个存储单元。其位数反映存储单元数量
  - MDR: Memory Data Register，存储器数据寄存器，用于暂存要读/写的数据。其位数=存储字长
- 运算器
  - ACC: Accumulator，累加器，存放操作数、运算的结果
  - MQ: Multiplier Quotient，乘商寄存器，进行乘、除法时用得到
  - X: 通用寄存器，存放操作数
  - ALU: Arithmetic and Logic Unit，算术逻辑单元，用电路实现各种算术运算、逻辑运算
- 控制器
  - PC: Program Counter，程序计数器，存放下一条指令的地址
  - IR: Instruction Register，指令寄存器，放当前执行的指令
  - CU: Control Unit，控制单元，分析指令，给出控制信号
- 工作过程
  - 初始：指令、数据存入主存， PC 指向第一条指令
  - 从主存中取指令放入IR 、 PC自动加 1 、 CU 分析指令、 CU 指挥其他部件执行指令

## 1.2.6 本节习题精选

01. 完整的计算机系统应包括 ( )。  
A. 运算器、存储器、控制器 B. 外部设备和主机  
C. 主机和应用程序 D. 配套的硬件设备和软件系统

02. 冯·诺依曼机的基本工作方式是 ( )。  
A. 控制流驱动方式 B. 多指令多数据流方式  
C. 微程序控制方式 D. 数据流驱动方式

03. 下列 ( ) 是冯·诺依曼机工作方式的基本特点。  
A. 多指令流单数据流 B. 按地址访问并顺序执行指令  
C. 堆栈操作 D. 存储器按内容选择地址

04. 以下说法错误的是 ( )。
A. 硬盘是外部设备  
B. 软件的功能与硬件的功能在逻辑上是等价的  
C. 硬件实现的功能一般比软件实现具有更高的执行速度  
D. 软件的功能不能用硬件取代

05. 存放当前执行指令的寄存器是 ( )。  
A. MAR B. PC C. MDR D. IR

06. 在 CPU 中, 跟踪下一条要执行的指令的地址的寄存器是 ( )。  
A. PC B. MAR C. MDR D. IR

07. CPU 不包括 ( )。
A. 地址寄存器 B. 指令寄存器 (IR)  
C. 地址译码器 D. 通用寄存器

08. MAR 和 MDR 的位数分别为 （ ） 。  
A. 地址码长度、存储字长 B. 存储字长、存储字长
C. 地址码长度、地址码长度 D. 存储字长、地址码长度

09. 在运算器中, 不包含 ( )。  
A. 状态寄存器 B. 数据总线 C. ALU D. 地址寄存器

10. 下列关于 CPU 存取速度的比较中, 正确的是 ( )。  
A. Cache> 内存 > 寄存器 B. Cache > 寄存器 > 内存  
C. 寄存器 > Cache > 内存 D. 寄存器 > 内存 > Cache

11. 若一个 8 位的计算机系统以 16 位来表示地址, 则该计算机系统有 ( ) 个地址空间。  
A. 256 B. 65535 C. 65536 D. 131072

12. ( ) 是程序运行时的存储位置, 包括所需的数据。  
A. 数据通路 B. 主存 C. 硬盘 D. 操作系统

13. 关于编译程序和解释程序，下列说法中错误的是 ( )。  
A. 编译程序和解释程序的作用都是将高级语言程序转换成机器语言程序  
B. 编译程序编译时间较长, 运行速度较快  
C. 解释程序方法较简单, 运行速度也较快  
D. 解释程序将源程序翻译成机器语言, 并且翻译一条以后, 立即执行这条语句

14. 可以在计算机中直接执行的语言和用助记符编写的语言分别是 ( )。  
I. 机器语言 II. 汇编语言 III. 高级语言 IV. 操作系统原语 V. 正则语言  
A. II, III B. II、IV C. I. II D. I、V

15. 只有当程序执行时才将源程序翻译成机器语言, 并且一次只能翻译一行语句, 边翻译边执行的是（ ）程序，把汇编语言源程序转变为机器语言程序的过程是 ( )。  
I. 编译 II. 目标 III. 汇编 IV. 解释  
A. I. II B. IV、II C. IV、I D. IV、III

16. 下列关于各种级别语言的描述中, 错误的是 ( )。  
A. 可用高级语言和低级语言编写出功能等价的程序  
B. 低级语言的执行效率一般情况下高于高级语言  
C. 机器语言源程序可在机器上直接执行, 而高级语言和汇编语言源程序不可以  
D. 汇编语言与机器结构无关

17. 下列关于机器指令和汇编指令的叙述中，错误的是 ( )。  
A. 可以直接用机器语言 (机器指令) 编写程序  
B. 汇编指令和机器指令都能被计算机直接执行  
C. 汇编语言和机器语言都与计算机系统结构相关  
D. 汇编指令和机器指令一一对应, 功能相同

18. 下列叙述中, 正确的是 ( )。  
I. 实际应用程序的测试结果能够全面代表计算机的性能  
II. 系列机的基本特性是指令系统向后兼容  
III. 软件和硬件在逻辑功能上是等价的  
A. II B. III C. II 和 III D. I、II 和 III

19. 在 CPU 的组成中, 不包括 ( )。  
A. 运算器 B. 存储器 C. 控制器 D. 寄存器

20. 关于相联存储器，下列说法中正确的是 ( )。  
A. 只可以按地址寻址 B. 只可以按内容寻址  
C. 既可按地址寻址又可按内容寻址 D. 以上说法均不完善

21. 【2015 统考真题】计算机硬件能够直接执行的是 ( )。  
I. 机器语言程序 II. 汇编语言程序 III. 硬件描述语言程序  
A. 仅 I B. 仅 I、II C. 仅 I、III D. I、II、III

22. 【2016 统考真题】将高级语言源程序转换为机器级目标代码文件的程序是 ( )。  
A. 汇编程序 B. 链接程序 C. 编译程序 D. 解释程序

23. 【2019 统考真题】下列关于冯·诺依曼计算机基本思想的叙述中, 错误的是 ( )。  
A. 程序的功能都通过中央处理器执行指令实现  
B. 指令和数据都用二进制数表示, 形式上无差别  
C. 指令按地址访问, 数据都在指令中直接给出  
D. 程序执行前, 指令和数据需预先存放在存储器中

24. 【2022 统考真题】将高级语言源程序转换为可执行目标文件的主要过程是 ( )。  
A. 预处理 $\rightarrow$ 编译 $\rightarrow$ 汇编 $\rightarrow$ 链接  
B. 预处理 $\rightarrow$ 汇编 $\rightarrow$ 编译 $\rightarrow$ 链接  
C. 预处理 $\rightarrow$ 编译 $\rightarrow$ 链接 $\rightarrow$ 汇编  
D. 预处理 $\rightarrow$ 汇编 $\rightarrow$ 链接 $\rightarrow$ 编译

## 1.2.7 答案与解析

01. D  
A 是计算机主机的组成部分，而 B 、 C 只涉及计算机系统的部分内容，都不完整。

02. A  
冯·诺依曼机的基本工作方式是控制流驱动方式，也就是按照指令的执行序列，依次读取指令，然后根据指令所含的控制信息，调用数据信息进行处理。因此，在执行程序的过程中，始终以控制信息流为驱动工作的因素，而数据信息流则是被动地被调用处理。

03. B  
A 是不存在的机器， B 是对“存储程序”的阐述，因此正确。 C 是与题干无关的选项。 D 是相联存储器的特点。

04. D  
软件和硬件具有逻辑功能上的等价性，硬件实现具有更高的执行速度，软件实现具有更好的灵活性。执行频繁、硬件实现代价不是很高的功能通常由硬件实现。

05. D  
IR 存放当前执行的指令代码, PC 存放下一条指令的地址, 不要将它们混淆。此外, MAR 用来存放待访问的存储单元地址, MDR 则用来存放取处存储单元的数据。

06. A  
在 CPU 中, PC 用来跟踪下一条要执行的指令在主存储器中的地址。

07. C  
地址译码器是主存储器的构成部分, 不属于 CPU。地址寄存器虽然一般属于主存储器, 但现代计算机中绝大多数 CPU 内集成了地址寄存器。

08. A  
地址寄存器 (MAR) 存放访存地址, 因此位数与地址码长度相同。数据寄存器 (MDR) 用于暂存要从存储器中读或写的信息, 因此位数与存储字长相同。

09. D  
运算器的核心是 ALU。地址寄存器位于 CPU 内, 但并未集成到运算器与控制器中。地址寄存器用来保存当前 CPU 所访问的内存单元的地址。因为内存和 CPU 之间存在着操作速度上的差别, 所以必须使用地址寄存器来保持地址信息, 直到内存的读/写操作完成为止。

10. C  
寄存器在 CPU 内部, 速度最快。Cache 采用高速的 SRAM 制作, 而内存常用 DRAM 制作, 其速度较 Cache 慢。本题也可根据存储器层次结构的速度关系得出答案。

11. C  
8 位计算机表明计算机字长为 8 位, 即一次可以处理 8 位的数据; 而 16 位表示地址码的长度, 因此该机器有 ${2}^{16} = {65536}$ 个地址空间。

12. B  
计算机只能从主存储器中取指令与操作数, 不能直接与外存交换数据。

13. C  
编译程序是先完整编译后运行的程序,如 C、C++ 等; 解释程序是逐句翻译且边翻译边执行的程序, 如 JavaScript、Python 等。由于解释程序要边翻译成机器语言边执行, 因此一般速度较编译程序慢。为增加对该过程的理解,附 $\mathrm{C}$ 语言编译链接的过程:

    源程序 $\left( {.c}\right) \xrightarrow[]{\;\text{ C编译器 }}$ 汇编源程序 $\xrightarrow[]{\;\text{ 汇编程序 }}$ 目标程序 $\xrightarrow[]{\;\text{ 链接程序 }}$ 可执行程序

14. C  
机器语言是计算机唯一可以直接执行的语言, 汇编语言用助记符编写, 以便记忆。而正则语言是编译原理中符合正则文法的语言。

15. D  
解释程序的特点是翻译一句执行一句, 边翻译边执行; 由高级语言转化为汇编语言的过程称为编译, 把汇编语言源程序翻译成机器语言程序的过程称为汇编。

16. D  
在不同的设备中, 汇编语言对应着不同的机器语言指令集, 通过汇编程序转换成机器指令。 特定的汇编语言与特定的机器语言指令集是一一对应的, 不同平台之间不可直接移植。

17. B  
计算机只能直接执行机器指令, 而汇编指令需要通过汇编程序转换成机器指令才能被计算机直接执行。

18. C  
全面代表计算机性能的是实际软件的运行情况。向后兼容是指时间上向后兼容, 即新机器兼容使用以前机器的指令系统。软件和硬件在逻辑功能上是等价的, 如浮点运算即可以用专门的浮点运算器实现, 也可以通过编写一段子程序实现。

19. B  
CPU 由运算器和控制器两个部件组成, 而运算器和控制器中都含有寄存器。存储器是一个独立的部件。

20. C  
相联存储器既可以按地址寻址又可以按内容 (通常是某些字段) 寻址, 为与传统存储器区别, 也称按内容寻址的存储器。

21. A
硬件能直接执行的只能是机器语言 (二进制编码), 汇编语言是增强机器语言的可读性和记忆性的语言, 经过汇编后才能被执行。

22. C  
翻译程序是指把高级语言源程序转换成机器语言程序的软件。翻译程序有两种: 一种是编译程序, 它将源程序一次全部翻译成目标程序, 并且会生成目标代码文件。另一种是解释程序, 它将源程序的一条语句翻译成对应的机器目标代码, 并立即执行, 翻译一句执行一句, 并且不会生成目标代码文件。汇编程序也是一种翻译程序, 它把汇编语言源程序翻译为机器语言程序。

23. C  
冯·诺依曼结构计算机的功能部件包括输入设备、输出设备、存储器、运算器和控制器, 程序的功能都通过中央处理器 (运算器和控制器) 执行指令, A 正确。指令和数据以同等地位存放于存储器内, 形式上无差别, 只在程序执行时具有不同的含义, B 正确。指令按地址访问, 数据由指令的地址码指出, 除立即寻址外, 数据均存放在存储器内, C 错误。在程序执行前, 指令和数据需预先存放在存储器中, 中央处理器可以从存储器存取代码, D 正确。

24. A  
将源程序转换为可执行目标文件的过程分为预处理、编译、汇编、链接四个阶段。
