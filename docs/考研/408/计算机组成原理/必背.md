# 必背

## 3.5 高速缓冲存储器

## Cache 映射方式的主存地址划分

- 直接映射：主存字块标记 | Cache字块地址 | 字块内地址
- 全相联映射：主存字块标记 | 字块内地址
- 组相连映射：主存字块标记 | 组地址 | 字块内地址

几路组相联映射就有几个比较器

### Cache 容量计算

Cache总容量=数据部分+控制部分

Cache的每一行由 `（主存字块标记位+有效位+算法位+脏位）+ 数据位` 组成

行也可称为页或块

数据部分=行数 * 每行数据

其中 每行数据=(2 ^ 页内偏移位数)* 数据类型大小

控制部分=行数 *（主存字块标记位数+有效位+算法位+脏位）

标记位数= 主存字块标记位数 =

=直接映射：主存地址位数 - (Cache字块地址 + 字块内地址)
=全相联映射：主存地址位数 - (主存字块标记 + 字块内地址)
=组相连映射：主存地址位数 - (组地址 + 字块内地址)
